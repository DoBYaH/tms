<script total>

	exports.name = 'Trigger';
	exports.icon = 'fa fa-bullhorn';
	exports.config = {};
	exports.outputs = [{ id: 'output', name: 'Output' }];

	exports.make = function(instance, config) {
		instance.trigger = function(data) {
			var val = U.random_string(20);
			instance.send('output', val);
		};
	};

</script>

<script>
	FUNC.ftrigger_exec = function(el) {
		SETTER('websocket/send', { TYPE: 'trigger', id: el.attrd2('id') });
	};
</script>

<style>
	.f-trigger .padding { padding: 0 10px 10px; }
	.f-trigger button { width: 100%; height: 24px; border: 1px solid #E0E0E0; border-radius: var(--radius); color: #000; background-color: #F0F0F0; margin: 0; }
	.f-trigger button:hover { background-color: #F8F8F8; }
	.f-trigger button:active { background-color: #E0E0E0; }
	.ui-dark .f-trigger button { border-color: #404040; color: #FFF; background-color: #222; }
	.ui-dark .f-trigger button:hover { background-color: #303030; }
	.ui-dark .f-trigger button:active { background-color: #404040; }
</style>

<settings>
	<div class="padding">
		Without settings
	</div>
</settings>

<body>
	<div class="meta">
		<div><i class="fa fa-bullhorn mr5"></i>Trigger</div>
	</div>
	<div class="padding">
		<button class="exec" data-exec="FUNC.ftrigger_exec">Run</button>
	</div>
</body>